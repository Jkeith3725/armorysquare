<script>
  function openPlot(plotId) {
    fetch(`data/${plotId}.json`)
      .then(response => response.json())
      .then(data => {
        // Set popup title
        document.getElementById("modal-title").innerText = "Plot " + plotId.toUpperCase();
        // Populate list
        const list = document.getElementById("veteran-list");
        list.innerHTML = "";
        data.forEach(entry => {
          const li = document.createElement("li");
          li.textContent = Object.values(entry).join(" â€” ");
          list.appendChild(li);
        });
        // Show modal
        document.getElementById("modal").style.display = "block";
      })
      .catch(err => console.error("Failed to load JSON:", err));
  }

  // Close button handler
  document.querySelector(".close").onclick = function () {
    document.getElementById("modal").style.display = "none";
  };

  // Click outside modal to close
  window.onclick = function(event) {
    if (event.target === document.getElementById("modal")) {
      document.getElementById("modal").style.display = "none";
    }
  };
</script>
